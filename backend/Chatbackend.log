INFO:     Will watch for changes in these directories: ['/home/rino/deploy/backend']
INFO:     Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO:     Started reloader process [2286405] using StatReload
INFO:     Started server process [2286425]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     129.222.109.34:0 - "OPTIONS /ask HTTP/1.0" 200 OK
Sources utilis√©es pour 'vous avez des tables?' : [{'type': 'connexion', 'name': 'testdb'}]
Documents: [{'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
üîß Contenu brut du LLM:
 "SELECT * FROM \"produits\";"
SQL √† ex√©cut√©e: SELECT * FROM "produits";
response:[{'categorie': 'Mobilier', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Chaise en bois confortable', 'id': 1, 'nom': 'Chaise', 'prix': '49.99', 'stock': 10, 'updated_at': '2025-07-09T06:21:00.903073Z'}, {'categorie': 'Mobilier', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'models.Table en palissandre', 'id': 2, 'nom': 'models.Table', 'prix': '149.50', 'stock': 5, 'updated_at': '2025-07-09T06:21:00.903073Z'}, {'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
R√©sultat SQL:[{'categorie': 'Mobilier', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Chaise en bois confortable', 'id': 1, 'nom': 'Chaise', 'prix': '49.99', 'stock': 10, 'updated_at': '2025-07-09T06:21:00.903073Z'}, {'categorie': 'Mobilier', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'models.Table en palissandre', 'id': 2, 'nom': 'models.Table', 'prix': '149.50', 'stock': 5, 'updated_at': '2025-07-09T06:21:00.903073Z'}, {'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
Docs:[{'text': 'R√©sultat SQL pour la requ√™te suivante : vous avez des tables?\nCode SQL : SELECT * FROM "produits";\n\nR√©sultat :\n[\n  {\n    "categorie": "Mobilier",\n    "created_at": "2025-07-09T06:21:00.903073Z",\n    "description": "Chaise en bois confortable",\n    "id": 1,\n    "nom": "Chaise",\n    "prix": "49.99",\n    "stock": 10,\n    "updated_at": "2025-07-09T06:21:00.903073Z"\n  },\n  {\n    "categorie": "Mobilier",\n    "created_at": "2025-07-09T06:21:00.903073Z",\n    "description": "models.Table en palissandre",\n    "id": 2,\n    "nom": "models.Table",\n    "prix": "149.50",\n    "stock": 5,\n    "updated_at": "2025-07-09T06:21:00.903073Z"\n  },\n  {\n    "categorie": "√âclairage",\n    "created_at": "2025-07-09T06:21:00.903073Z",\n    "description": "Lampe LED √©co√©nerg√©tique",\n    "id": 3,\n    "nom": "Lampe",\n    "prix": "25.00",\n    "stock": 20,\n    "updated_at": "2025-07-09T06:21:00.903073Z"\n  }\n]', 'source': 'r√©sultat_sql'}, {'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
INFO:     129.222.109.34:0 - "POST /ask HTTP/1.0" 200 OK
Sources utilis√©es pour 'parle moi du lampe' : [{'type': 'connexion', 'name': 'testdb'}]
Documents: [{'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
üîß Contenu brut du LLM:
 SELECT * FROM "produits" WHERE "nom" = 'Lampe';
SQL √† ex√©cut√©e: SELECT * FROM "produits" WHERE "nom" = 'Lampe';
response:[{'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
R√©sultat SQL:[{'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
Docs:[{'text': 'R√©sultat SQL pour la requ√™te suivante : parle moi du lampe\nCode SQL : SELECT * FROM "produits" WHERE "nom" = \'Lampe\';\n\nR√©sultat :\n[\n  {\n    "categorie": "√âclairage",\n    "created_at": "2025-07-09T06:21:00.903073Z",\n    "description": "Lampe LED √©co√©nerg√©tique",\n    "id": 3,\n    "nom": "Lampe",\n    "prix": "25.00",\n    "stock": 20,\n    "updated_at": "2025-07-09T06:21:00.903073Z"\n  }\n]', 'source': 'r√©sultat_sql'}, {'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
INFO:     129.222.109.34:0 - "POST /ask HTTP/1.0" 200 OK
Sources utilis√©es pour 'Je veux en commander 5' : [{'type': 'connexion', 'name': 'testdb'}]
Documents: [{'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
üîß Contenu brut du LLM:
 SELECT * FROM "produits" WHERE "nom" = 'Lampe' AND "stock" >= 5 FOR UPDATE;
SQL √† ex√©cut√©e: SELECT * FROM "produits" WHERE "nom" = 'Lampe' AND "stock" >= 5 FOR UPDATE;
response:[{'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
R√©sultat SQL:[{'categorie': '√âclairage', 'created_at': '2025-07-09T06:21:00.903073Z', 'description': 'Lampe LED √©co√©nerg√©tique', 'id': 3, 'nom': 'Lampe', 'prix': '25.00', 'stock': 20, 'updated_at': '2025-07-09T06:21:00.903073Z'}]
Docs:[{'text': 'R√©sultat SQL pour la requ√™te suivante : Je veux en commander 5\nCode SQL : SELECT * FROM "produits" WHERE "nom" = \'Lampe\' AND "stock" >= 5 FOR UPDATE;\n\nR√©sultat :\n[\n  {\n    "categorie": "√âclairage",\n    "created_at": "2025-07-09T06:21:00.903073Z",\n    "description": "Lampe LED √©co√©nerg√©tique",\n    "id": 3,\n    "nom": "Lampe",\n    "prix": "25.00",\n    "stock": 20,\n    "updated_at": "2025-07-09T06:21:00.903073Z"\n  }\n]', 'source': 'r√©sultat_sql'}, {'text': 'Voici la liste des produits pr√©sents: [{&#34;nom&#34;:&#34;Chaise&#34;},{&#34;nom&#34;:&#34;models.Table&#34;},{&#34;nom&#34;:&#34;Lampe&#34;}]', 'source': 'testdb'}]
INFO:     129.222.109.34:0 - "POST /ask HTTP/1.0" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2286425]
INFO:     Stopping reloader process [2286405]
